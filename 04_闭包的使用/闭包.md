# JS 中闭包的定义

## 两个定义
1. 计算机科学
closure 闭包/词法闭包(词法分析中就进行了)/函数闭包
是在支持 头等函数 的编程语言（比如 JS）里，实现词法绑定的一种技术
闭包的实现，是一个结构体，（一种结构，在JS中可以理解为对象），存储了一个函数和它关联的环境，相当于一个符号查找表
闭包跟函数最大的区别：当捕捉闭包时，他的自由变量会在捕捉时被确定。这样即使脱离了捕捉的上下文，他也能照常运行

闭包的概念最早出现在上世纪六十年代，Schema，JS大量设计来自Schema
2. JS 中的闭包
MDN 上的解释：一个**函数**和对其**周围状态的引用**捆绑在一起，这样的**组合**就是闭包
闭包让你可以从一个内层函数访问外层函数的作用域
在JS中，每创建一个函数，闭包就会同时被创建出来
  （可以访问 / 有访问到）
  一般认为，如果一个函数没有访问外部的变量，就不好说了 有了争论

闭包是由两部分组成的， 函数 + 可以访问的自由变量


# 我的理解
一个普通的函数，可以访问外层作用域的变量的时候，那就是闭包
广义：JS 里的函数都是闭包
狭义：一个函数，访问了外部作用域的变量，那么就是个闭包

##  为什么AO没有被销毁
因为在全局对象里有一个变量保存着他的内存地址，存在着对于这个AO的引用，所以不会被销毁

## 什么叫内存泄漏
就是07里的fn还指向这bar函数，bar还存在在内存里，但已经没有东西在调用了(不知道会不会被后面的东西用到)
所以内存不敢删除，这就叫内存泄漏
## 那出现了内存泄漏怎么办呢
人工把fn置为null，bar就会自己销毁，内存泄漏也就不存在了

